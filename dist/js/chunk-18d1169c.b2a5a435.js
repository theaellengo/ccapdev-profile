(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-18d1169c"],{"411c":function(e,r,t){},"8ab4":function(e,r,t){"use strict";t("411c")},a55b:function(e,r,t){"use strict";t.r(r);var a=t("7a23"),o=Object(a["H"])("data-v-1640891d");Object(a["t"])("data-v-1640891d");var s={class:"login"},n={class:"container"},c={class:"card form-container"},i=Object(a["h"])("h1",{class:"large text-dark"}," Sign In ",-1),l=Object(a["h"])("p",{class:"lead"},[Object(a["h"])("i",{class:"fas fa-user"}),Object(a["g"])(" Sign into your account ")],-1),u={class:"form"},d={key:0,class:"alert alert-text"},p={class:"form-group"},b={class:"control-label",for:"email"},h=Object(a["g"])("Email "),m={key:0,class:"alert alert-text"},O={class:"form-group"},g={class:"control-label",for:"pwd"},j=Object(a["g"])("Password "),f={key:0,class:"alert alert-text"},w={class:"my-1"},v=Object(a["g"])(" Don't have an account? "),k=Object(a["h"])("a",null," Register Here. ",-1);Object(a["r"])();var E=o((function(e,r,t,E,y,S){var x=Object(a["x"])("router-link");return Object(a["q"])(),Object(a["d"])("div",s,[Object(a["h"])("div",n,[Object(a["h"])("div",c,[i,l,Object(a["h"])("form",u,[e.errors.loginError?(Object(a["q"])(),Object(a["d"])("div",d," The email address and password you entered did not match our records. Please try again. ")):Object(a["e"])("",!0),Object(a["h"])("div",p,[Object(a["h"])("label",b,[h,e.errors.emailError?(Object(a["q"])(),Object(a["d"])("span",m,"Please input your email address")):Object(a["e"])("",!0)]),Object(a["G"])(Object(a["h"])("input",{type:"email",placeholder:"Email Address","onUpdate:modelValue":r[1]||(r[1]=function(r){return e.email=r})},null,512),[[a["D"],e.email]])]),Object(a["h"])("div",O,[Object(a["h"])("label",g,[j,e.errors.passwordError?(Object(a["q"])(),Object(a["d"])("span",f,"Please input your password")):Object(a["e"])("",!0)]),Object(a["G"])(Object(a["h"])("input",{type:"password",placeholder:"Password","min-length":"6","onUpdate:modelValue":r[2]||(r[2]=function(r){return e.password=r})},null,512),[[a["D"],e.password]])]),Object(a["h"])("input",{value:"Sign In",class:"btn btn-primary",onClick:r[3]||(r[3]=function(r){return S.login(e.email,e.password)})})]),Object(a["h"])("p",w,[v,Object(a["h"])(x,{to:"/register"},{default:o((function(){return[k]})),_:1})])])])])})),y=(t("96cf"),t("1da1")),S=t("bc3a"),x=t.n(S),I="https://ccapdev-test-profile-app.herokuapp.com/",J={login:function(e){return Object(y["a"])(regeneratorRuntime.mark((function r(){var t;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return console.log(I),console.log("".concat(I,"/users/login")),r.next=4,x.a.post("".concat(I,"/users/login"),e);case 4:t=r.sent,localStorage.setItem("auth-token",JSON.stringify(t.data["auth-token"])),localStorage.setItem("user",JSON.stringify(t.data.user));case 7:case"end":return r.stop()}}),r)})))()}},P={name:"Login",data:function(){return{email:"",password:"",errors:{loginError:!1,emailError:!1,passwordError:!1}}},methods:{login:function(e,r){var t=this;return Object(y["a"])(regeneratorRuntime.mark((function a(){var o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.validate()&&(o={email:e,password:r},J.login(o).then((function(){"admin"===JSON.parse(localStorage.getItem("user")).role.toLowerCase()?t.$router.push({name:"Admin"}):t.$router.push({name:"Home"})})).catch((function(e){t.errors.loginError=!0})));case 1:case"end":return a.stop()}}),a)})))()},validate:function(){return""==this.email?this.emailError=!0:this.errors.emailError=!1,""==this.password?this.errors.passwordError=!0:this.errors.passwordError=!1,!this.errors.emailError&&!this.errors.passwordError}},created:function(){JSON.parse(localStorage.getItem("auth-token"))&&this.$router.push({name:"Home"})}};t("8ab4");P.render=E,P.__scopeId="data-v-1640891d";r["default"]=P}}]);
//# sourceMappingURL=chunk-18d1169c.b2a5a435.js.map