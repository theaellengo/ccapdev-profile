(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-225a129c"],{"40db":function(r,e,s){},"73cf":function(r,e,s){"use strict";s.r(e);s("b0c0");var a=s("7a23"),t=Object(a["H"])("data-v-0c35de9d");Object(a["t"])("data-v-0c35de9d");var o={class:"register"},n={class:"container"},c={class:"card form-container"},i=Object(a["h"])("h1",{class:"large text-dark"}," Sign Up ",-1),l=Object(a["h"])("p",{class:"lead"},[Object(a["h"])("i",{class:"fas fa-user"}),Object(a["g"])(" Create your account ")],-1),d={class:"form"},u={class:"form-group"},b={class:"control-label",for:"name"},m=Object(a["g"])("Name "),p={key:0,class:"alert alert-text"},f={class:"form-group"},h={class:"control-label",for:"idno"},O=Object(a["g"])("ID no "),j={key:0,class:"alert alert-text"},g={class:"form-group"},w={class:"control-label",for:"email"},E=Object(a["g"])("Email "),v={key:0,class:"alert alert-text"},k={class:"form-group"},P={class:"control-label",for:"password"},U=Object(a["g"])("Password "),x={key:0,class:"alert alert-text"},M={class:"form-group"},y={class:"control-label",for:"password"},N=Object(a["g"])("Confirm Password "),D={key:0,class:"alert alert-text"},I=Object(a["h"])("br",null,null,-1),S={class:"my-1"},z=Object(a["g"])(" Already have an account? "),q=Object(a["h"])("a",null," Login Here. ",-1);Object(a["r"])();var R=t((function(r,e,s,R,C,G){var L=Object(a["x"])("router-link");return Object(a["q"])(),Object(a["d"])("div",o,[Object(a["h"])("div",n,[Object(a["h"])("div",c,[i,l,Object(a["h"])("form",d,[Object(a["h"])("div",u,[Object(a["h"])("label",b,[m,r.errors.nameError?(Object(a["q"])(),Object(a["d"])("span",p,Object(a["z"])(r.errors.nameErrorMsg),1)):Object(a["e"])("",!0)]),Object(a["G"])(Object(a["h"])("input",{type:"text",id:"name",placeholder:"First Name MI Last Name","onUpdate:modelValue":e[1]||(e[1]=function(e){return r.newUser.name=e})},null,512),[[a["D"],r.newUser.name]])]),Object(a["h"])("div",f,[Object(a["h"])("label",h,[O,r.errors.idNoError?(Object(a["q"])(),Object(a["d"])("span",j,Object(a["z"])(r.errors.idNoErrorMsg),1)):Object(a["e"])("",!0)]),Object(a["G"])(Object(a["h"])("input",{type:"number",id:"idno",placeholder:"ID number","onUpdate:modelValue":e[2]||(e[2]=function(e){return r.newUser.idno=e})},null,512),[[a["D"],r.newUser.idno]])]),Object(a["h"])("div",g,[Object(a["h"])("label",w,[E,r.errors.emailError?(Object(a["q"])(),Object(a["d"])("span",v,Object(a["z"])(r.errors.emailErrorMsg),1)):Object(a["e"])("",!0)]),Object(a["G"])(Object(a["h"])("input",{type:"email",id:"email",placeholder:"Email Address","onUpdate:modelValue":e[3]||(e[3]=function(e){return r.newUser.email=e})},null,512),[[a["D"],r.newUser.email]])]),Object(a["h"])("div",k,[Object(a["h"])("label",P,[U,r.errors.passwordError?(Object(a["q"])(),Object(a["d"])("span",x,Object(a["z"])(r.errors.passwordErrorMsg),1)):Object(a["e"])("",!0)]),Object(a["G"])(Object(a["h"])("input",{type:"password",id:"password",placeholder:"Password","min-length":"6","onUpdate:modelValue":e[4]||(e[4]=function(e){return r.newUser.password=e})},null,512),[[a["D"],r.newUser.password]])]),Object(a["h"])("div",M,[Object(a["h"])("label",y,[N,r.errors.confirmPassError?(Object(a["q"])(),Object(a["d"])("span",D,Object(a["z"])(r.errors.confirmPassErrorMsg),1)):Object(a["e"])("",!0)]),Object(a["G"])(Object(a["h"])("input",{type:"password",placeholder:"Confirm Password","min-length":"6","onUpdate:modelValue":e[5]||(e[5]=function(e){return r.confirmPass=e})},null,512),[[a["D"],r.confirmPass]])]),I,Object(a["h"])("input",{value:"Register",class:"btn btn-primary",onClick:e[6]||(e[6]=function(r){return G.submit()})})]),Object(a["h"])("p",S,[z,Object(a["h"])(L,{to:"/login"},{default:t((function(){return[q]})),_:1})])])])])})),C=(s("8a79"),s("96cf"),s("1da1")),G=s("bc3a"),L=s.n(G),V="http://localhost:3000",W={name:"Register",data:function(){return{newUser:{name:"",idno:"",email:"",password:"",role:"user"},confirmPass:"",errors:{nameError:!1,nameErrorMsg:"",idNoError:!1,idNoErrorMsg:"",emailError:!1,emailErrorMsg:"",passwordError:!1,passwordErrorMsg:"",confirmPassError:!1,confirmPassErrorMsg:""}}},methods:{validate:function(){var r=this;return Object(C["a"])(regeneratorRuntime.mark((function e(){var s,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""==r.newUser.name?(r.errors.nameError=!0,r.errors.nameErrorMsg="Please enter your name"):r.errors.nameError=!1,""!=r.newUser.idno){e.next=6;break}r.errors.idNoError=!0,r.errors.idNoErrorMsg="Please enter your ID number",e.next=15;break;case 6:if(8==r.newUser.idno.length){e.next=11;break}r.errors.idNoError=!0,r.errors.idNoErrorMsg="Please enter a valid ID number",e.next=15;break;case 11:return e.next=13,L.a.post("".concat(V,"/users/checkIDno"),{idno:r.newUser.idno});case 13:s=e.sent,"taken"==s.data.message?(r.errors.idNoError=!0,r.errors.idNoErrorMsg="ID number already taken!"):r.errors.idNoError=!1;case 15:if(""!=r.newUser.email){e.next=20;break}r.errors.emailError=!0,r.errors.emailErrorMsg="Please enter your email address",e.next=34;break;case 20:if(r.validateEmail(r.newUser.email)){e.next=25;break}r.errors.emailError=!0,r.errors.emailErrorMsg="Please enter a valid email address",e.next=34;break;case 25:if(r.newUser.email.endsWith("@dlsu.edu.ph")){e.next=30;break}r.errors.emailError=!0,r.errors.emailErrorMsg="Please use your DLSU email address",e.next=34;break;case 30:return e.next=32,L.a.post("".concat(V,"/users/checkemail"),{email:r.newUser.email});case 32:a=e.sent,"taken"==a.data.message?(r.errors.emailError=!0,r.errors.emailErrorMsg="Email already taken!"):r.errors.emailError=!1;case 34:if(""==r.newUser.password?(r.errors.passwordError=!0,r.errors.passwordErrorMsg="Please enter a password"):r.newUser.password.length<6?(r.errors.passwordError=!0,r.errors.passwordErrorMsg="Password must be at least 6 characters long"):r.errors.passwordError=!1,""==r.confirmPass?(r.errors.confirmPassError=!0,r.errors.confirmPassErrorMsg="Please confirm your password"):r.newUser.password!=r.confirmPass?(r.errors.confirmPassError=!0,r.errors.confirmPassErrorMsg="Passwords do not match"):r.errors.confirmPassError=!1,!(r.errors.nameError||r.errors.emailError||r.errors.idNoError||r.errors.passwordError||r.errors.confirmPassError)){e.next=40;break}return e.abrupt("return",!1);case 40:return e.abrupt("return",!0);case 41:case"end":return e.stop()}}),e)})))()},validateEmail:function(r){var e=/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return e.test(String(r).toLowerCase())},submit:function(){var r=this;return Object(C["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r.validate();case 2:if(!e.sent){e.next=5;break}L.a.post("".concat(V,"/users/register"),r.newUser),r.$router.push({name:"Login"});case 5:case"end":return e.stop()}}),e)})))()}},created:function(){JSON.parse(localStorage.getItem("auth-token"))&&this.$router.push({name:"Home"})}};s("b75b");W.render=R,W.__scopeId="data-v-0c35de9d";e["default"]=W},"8a79":function(r,e,s){"use strict";var a=s("23e7"),t=s("06cf").f,o=s("50c4"),n=s("5a34"),c=s("1d80"),i=s("ab13"),l=s("c430"),d="".endsWith,u=Math.min,b=i("endsWith"),m=!l&&!b&&!!function(){var r=t(String.prototype,"endsWith");return r&&!r.writable}();a({target:"String",proto:!0,forced:!m&&!b},{endsWith:function(r){var e=String(c(this));n(r);var s=arguments.length>1?arguments[1]:void 0,a=o(e.length),t=void 0===s?a:u(o(s),a),i=String(r);return d?d.call(e,i,t):e.slice(t-i.length,t)===i}})},b75b:function(r,e,s){"use strict";s("40db")}}]);
//# sourceMappingURL=chunk-225a129c.90270463.js.map