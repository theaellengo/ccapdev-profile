{"version":3,"sources":["webpack:///./src/views/Register.vue?cc38","webpack:///./src/views/Register.vue","webpack:///./src/views/Register.vue?cea8","webpack:///./node_modules/core-js/modules/es.string.ends-with.js"],"names":["class","for","errors","nameError","nameErrorMsg","type","id","placeholder","newUser","name","idNoError","idNoErrorMsg","idno","emailError","emailErrorMsg","email","passwordError","passwordErrorMsg","min-length","password","confirmPassError","confirmPassErrorMsg","confirmPass","value","submit","to","url","data","role","methods","validate","length","a","post","res","message","validateEmail","endsWith","re","test","String","toLowerCase","$router","push","created","JSON","parse","localStorage","getItem","this","render","__scopeId","$","getOwnPropertyDescriptor","f","toLength","notARegExp","requireObjectCoercible","correctIsRegExpLogic","IS_PURE","nativeEndsWith","min","Math","CORRECT_IS_REGEXP_LOGIC","MDN_POLYFILL_BUG","descriptor","prototype","writable","target","proto","forced","searchString","that","endPosition","arguments","undefined","len","end","search","call","slice"],"mappings":"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","file":"js/chunk-0f180d6a.dba04e64.js","sourcesContent":["export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Register.vue?vue&type=style&index=0&id=49bdf43c&scoped=true&lang=css\"","<template>\r\n  <div class=\"register\">\r\n    <div class=\"container\">\r\n      <div class=\"card form-container\">\r\n        <h1 class=\"large text-dark\">\r\n          Sign Up\r\n        </h1>\r\n        <p class=\"lead\">\r\n          <i class=\"fas fa-user\"></i>\r\n          Create your account\r\n        </p>\r\n        <form class=\"form\">\r\n          <div class=\"form-group\">\r\n            <label class=\"control-label\" for=\"name\"\r\n              >Name\r\n              <span class=\"alert alert-text\" v-if=\"errors.nameError\">{{\r\n                errors.nameErrorMsg\r\n              }}</span></label\r\n            >\r\n            <input\r\n              type=\"text\"\r\n              id=\"name\"\r\n              placeholder=\"First Name MI Last Name\"\r\n              v-model=\"newUser.name\"\r\n            />\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label class=\"control-label\" for=\"idno\"\r\n              >ID no\r\n              <span class=\"alert alert-text\" v-if=\"errors.idNoError\">{{\r\n                errors.idNoErrorMsg\r\n              }}</span></label\r\n            >\r\n            <input\r\n              type=\"number\"\r\n              id=\"idno\"\r\n              placeholder=\"ID number\"\r\n              v-model=\"newUser.idno\"\r\n            />\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label class=\"control-label\" for=\"email\"\r\n              >Email\r\n              <span class=\"alert alert-text\" v-if=\"errors.emailError\">{{\r\n                errors.emailErrorMsg\r\n              }}</span></label\r\n            >\r\n            <input\r\n              type=\"email\"\r\n              id=\"email\"\r\n              placeholder=\"Email Address\"\r\n              v-model=\"newUser.email\"\r\n            />\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label class=\"control-label\" for=\"password\"\r\n              >Password\r\n              <span class=\"alert alert-text\" v-if=\"errors.passwordError\">{{\r\n                errors.passwordErrorMsg\r\n              }}</span></label\r\n            >\r\n            <input\r\n              type=\"password\"\r\n              id=\"password\"\r\n              placeholder=\"Password\"\r\n              min-length=\"6\"\r\n              v-model=\"newUser.password\"\r\n            />\r\n          </div>\r\n          <div class=\"form-group\">\r\n            <label class=\"control-label\" for=\"password\"\r\n              >Confirm Password\r\n              <span class=\"alert alert-text\" v-if=\"errors.confirmPassError\">{{\r\n                errors.confirmPassErrorMsg\r\n              }}</span></label\r\n            >\r\n            <input\r\n              type=\"password\"\r\n              placeholder=\"Confirm Password\"\r\n              min-length=\"6\"\r\n              v-model=\"confirmPass\"\r\n            />\r\n          </div>\r\n          <br />\r\n          <input value=\"Register\" class=\"btn btn-primary\" @click=\"submit()\" />\r\n        </form>\r\n        <p class=\"my-1\">\r\n          Already have an account?\r\n          <router-link to=\"/login\">\r\n            <a>\r\n              Login Here.\r\n            </a>\r\n          </router-link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import axios from 'axios';\r\n\r\n  const url = process.env.VUE_APP_API_URL;\r\n\r\n  export default {\r\n    name: 'Register',\r\n    data: () => {\r\n      return {\r\n        newUser: {\r\n          name: '',\r\n          idno: '',\r\n          email: '',\r\n          password: '',\r\n          role: 'user'\r\n        },\r\n        confirmPass: '',\r\n        errors: {\r\n          nameError: false,\r\n          nameErrorMsg: '',\r\n          idNoError: false,\r\n          idNoErrorMsg: '',\r\n          emailError: false,\r\n          emailErrorMsg: '',\r\n          passwordError: false,\r\n          passwordErrorMsg: '',\r\n          confirmPassError: false,\r\n          confirmPassErrorMsg: ''\r\n        }\r\n      };\r\n    },\r\n    methods: {\r\n      async validate() {\r\n        if (this.newUser.name == '') {\r\n          this.errors.nameError = true;\r\n          this.errors.nameErrorMsg = 'Please enter your name';\r\n        } else {\r\n          this.errors.nameError = false;\r\n        }\r\n        if (this.newUser.idno == '') {\r\n          this.errors.idNoError = true;\r\n          this.errors.idNoErrorMsg = 'Please enter your ID number';\r\n        } else if (!(this.newUser.idno.length == 8)) {\r\n          this.errors.idNoError = true;\r\n          this.errors.idNoErrorMsg = 'Please enter a valid ID number';\r\n        } else {\r\n          const res = await axios.post(`${url}/users/checkIDno`, {\r\n            idno: this.newUser.idno\r\n          });\r\n          if (res.data.message == 'taken') {\r\n            this.errors.idNoError = true;\r\n            this.errors.idNoErrorMsg = 'ID number already taken!';\r\n          } else {\r\n            this.errors.idNoError = false;\r\n          }\r\n        }\r\n        if (this.newUser.email == '') {\r\n          this.errors.emailError = true;\r\n          this.errors.emailErrorMsg = 'Please enter your email address';\r\n        } else if (!this.validateEmail(this.newUser.email)) {\r\n          this.errors.emailError = true;\r\n          this.errors.emailErrorMsg = 'Please enter a valid email address';\r\n        } else if (!this.newUser.email.endsWith('@dlsu.edu.ph')) {\r\n          this.errors.emailError = true;\r\n          this.errors.emailErrorMsg = 'Please use your DLSU email address';\r\n        } else {\r\n          const res = await axios.post(`${url}/users/checkemail`, {\r\n            email: this.newUser.email\r\n          });\r\n          if (res.data.message == 'taken') {\r\n            this.errors.emailError = true;\r\n            this.errors.emailErrorMsg = 'Email already taken!';\r\n          } else {\r\n            this.errors.emailError = false;\r\n          }\r\n        }\r\n        if (this.newUser.password == '') {\r\n          this.errors.passwordError = true;\r\n          this.errors.passwordErrorMsg = 'Please enter a password';\r\n        } else if (this.newUser.password.length < 6) {\r\n          this.errors.passwordError = true;\r\n          this.errors.passwordErrorMsg =\r\n            'Password must be at least 6 characters long';\r\n        } else {\r\n          this.errors.passwordError = false;\r\n        }\r\n        if (this.confirmPass == '') {\r\n          this.errors.confirmPassError = true;\r\n          this.errors.confirmPassErrorMsg = 'Please confirm your password';\r\n        } else if (this.newUser.password != this.confirmPass) {\r\n          this.errors.confirmPassError = true;\r\n          this.errors.confirmPassErrorMsg = 'Passwords do not match';\r\n        } else {\r\n          this.errors.confirmPassError = false;\r\n        }\r\n\r\n        if (\r\n          this.errors.nameError ||\r\n          this.errors.emailError ||\r\n          this.errors.idNoError ||\r\n          this.errors.passwordError ||\r\n          this.errors.confirmPassError\r\n        ) {\r\n          return false;\r\n        } else {\r\n          return true;\r\n        }\r\n      },\r\n      validateEmail(email) {\r\n        const re = /^(([^<>()[\\]\\\\.,;:\\s@\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n        return re.test(String(email).toLowerCase());\r\n      },\r\n      async submit() {\r\n        if (await this.validate()) {\r\n          const response = axios.post(`${url}/users/register`, this.newUser);\r\n          this.$router.push({ name: 'Login' });\r\n        }\r\n      }\r\n    },\r\n    created() {\r\n      if (JSON.parse(localStorage.getItem('auth-token'))) {\r\n        // if logged in\r\n        this.$router.push({ name: 'Home' });\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .alert-text {\r\n    padding-top: 0;\r\n  }\r\n  router-link {\r\n    style: none;\r\n  }\r\n</style>\r\n","import { render } from \"./Register.vue?vue&type=template&id=49bdf43c&scoped=true\"\nimport script from \"./Register.vue?vue&type=script&lang=js\"\nexport * from \"./Register.vue?vue&type=script&lang=js\"\n\nimport \"./Register.vue?vue&type=style&index=0&id=49bdf43c&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-49bdf43c\"\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar getOwnPropertyDescriptor = require('../internals/object-get-own-property-descriptor').f;\nvar toLength = require('../internals/to-length');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\nvar IS_PURE = require('../internals/is-pure');\n\nvar nativeEndsWith = ''.endsWith;\nvar min = Math.min;\n\nvar CORRECT_IS_REGEXP_LOGIC = correctIsRegExpLogic('endsWith');\n// https://github.com/zloirock/core-js/pull/702\nvar MDN_POLYFILL_BUG = !IS_PURE && !CORRECT_IS_REGEXP_LOGIC && !!function () {\n  var descriptor = getOwnPropertyDescriptor(String.prototype, 'endsWith');\n  return descriptor && !descriptor.writable;\n}();\n\n// `String.prototype.endsWith` method\n// https://tc39.es/ecma262/#sec-string.prototype.endswith\n$({ target: 'String', proto: true, forced: !MDN_POLYFILL_BUG && !CORRECT_IS_REGEXP_LOGIC }, {\n  endsWith: function endsWith(searchString /* , endPosition = @length */) {\n    var that = String(requireObjectCoercible(this));\n    notARegExp(searchString);\n    var endPosition = arguments.length > 1 ? arguments[1] : undefined;\n    var len = toLength(that.length);\n    var end = endPosition === undefined ? len : min(toLength(endPosition), len);\n    var search = String(searchString);\n    return nativeEndsWith\n      ? nativeEndsWith.call(that, search, end)\n      : that.slice(end - search.length, end) === search;\n  }\n});\n"],"sourceRoot":""}