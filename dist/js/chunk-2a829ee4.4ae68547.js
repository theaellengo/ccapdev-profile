(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2a829ee4"],{"687d":function(e,t,r){},c66d:function(e,t,r){"use strict";r.r(t);r("b0c0");var n=r("7a23"),c=Object(n["H"])("data-v-fb5c592e");Object(n["t"])("data-v-fb5c592e");var a={class:"container"},o={class:"profile"},i=Object(n["h"])("br",null,null,-1),s=Object(n["h"])("h3",{class:"page-title"},"Information",-1),l={id:"profilecont"},u={class:"card"},b={class:"profileheader"},d={class:"profilearea"},h={class:"table table-borderless"},O=Object(n["h"])("thead",null,[Object(n["h"])("h5")],-1),j=Object(n["h"])("td",null,"College:",-1),p=Object(n["h"])("td",null,"Courses",-1),v=Object(n["h"])("td",null,"Rating:",-1),m={key:0},f={key:1},g=Object(n["h"])("br",null,null,-1),w={id:"reviewsection"},R={class:"reviewbox"},k=Object(n["h"])("div",{class:"addreviewheader"},[Object(n["h"])("span",null,[Object(n["h"])("h4",null,"Add Review")])],-1),x={class:"entry"},y={class:"ratingarea"},E=Object(n["h"])("span",null,"Rating",-1),z={class:"rating"},q=Object(n["f"])('<option value="1" data-v-fb5c592e>1</option><option value="2" data-v-fb5c592e>2</option><option value="3" data-v-fb5c592e>3</option><option value="4" data-v-fb5c592e>4</option><option value="5" data-v-fb5c592e>5</option><option value="none" data-v-fb5c592e>Select a rating</option>',6),S={key:0,class:"alert alert-text"},C=Object(n["h"])("br",null,null,-1),I={style:{"text-align":"right","padding-top":"1rem"}},N={key:0,class:"alert alert-text"},_={class:"reviews"},J=Object(n["h"])("div",{class:"reviewheader"},[Object(n["h"])("span",null,[Object(n["h"])("h4",null,"Reviews")])],-1),P={class:"card reviewcard"},U={class:"row reviewItem"},D=Object(n["h"])("br",null,null,-1),G={class:"col-3"},V=Object(n["h"])("br",null,null,-1),$={class:"col-8"},A={class:"col-1"};Object(n["r"])();var H=c((function(e,t,r,c,H,B){return Object(n["q"])(),Object(n["d"])("div",a,[Object(n["h"])("div",o,[i,s,Object(n["h"])("div",l,[Object(n["h"])("div",u,[Object(n["h"])("div",b,[Object(n["h"])("span",null,[Object(n["h"])("h3",null,Object(n["z"])(e.prof.name),1)])]),Object(n["h"])("div",d,[Object(n["h"])("table",h,[O,Object(n["h"])("tbody",null,[Object(n["h"])("tr",null,[j,Object(n["h"])("td",null,Object(n["z"])(e.prof.college),1)]),Object(n["h"])("tr",null,[p,Object(n["h"])("td",null,Object(n["z"])(e.prof.courses),1)]),Object(n["h"])("tr",null,[v,0!=e.prof.rating?(Object(n["q"])(),Object(n["d"])("td",m,Object(n["z"])(e.prof.rating),1)):(Object(n["q"])(),Object(n["d"])("td",f," Unrated "))])])])])])])]),g,Object(n["h"])("div",w,[Object(n["h"])("div",R,[k,Object(n["h"])("div",x,[Object(n["h"])("div",y,[E,Object(n["h"])("span",z,[Object(n["G"])(Object(n["h"])("select",{class:"col-2 custom-select",name:"rating",id:"rating","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.rating=t})},[q],512),[[n["C"],e.rating]])]),e.ratingError?(Object(n["q"])(),Object(n["d"])("span",S,'"Please select a rating from 1-5"')):Object(n["e"])("",!0)]),C,Object(n["G"])(Object(n["h"])("textarea",{id:"reviewcomment",rows:"10",placeholder:"Put your comment here","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.comment=t})},null,512),[[n["D"],e.comment]]),Object(n["h"])("div",I,[e.commentError?(Object(n["q"])(),Object(n["d"])("span",N,'"Please provide your comments. "')):Object(n["e"])("",!0),Object(n["h"])("button",{type:"button",class:"btn btn-primary",id:"submitReview",onClick:t[3]||(t[3]=function(e){return B.submitReview()})}," Submit Review ")])])]),Object(n["h"])("div",_,[J,Object(n["h"])("div",P,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(e.reviews,(function(e){return Object(n["q"])(),Object(n["d"])("div",U,[D,Object(n["h"])("div",G,[Object(n["h"])("p",null,[Object(n["g"])(Object(n["z"])(e.authorname),1),V,Object(n["g"])(Object(n["z"])(e.authorid),1)])]),Object(n["h"])("div",$,[Object(n["h"])("p",null,"Rating: "+Object(n["z"])(e.rating),1),Object(n["h"])("p",null,Object(n["z"])(e.comment),1)]),Object(n["h"])("div",A,[Object(n["h"])("span",{class:"reportbtn",onClick:function(t){return B.reportReview(e)}},"Report",8,["onClick"])])])})),256))])])])])})),B=(r("96cf"),r("1da1")),F=r("d178"),K=r("bc3a"),L=r.n(K),M="http://localhost:3000",Q={name:"Profile",components:{Navbar:F["a"]},data:function(){return{prof:{name:"",idNum:"",college:"",courses:"",rating:0},reviews:[],rating:"none",comment:"",ratingError:!1,commentError:!1}},methods:{submitReview:function(){var e=this;return Object(B["a"])(regeneratorRuntime.mark((function t(){var r,n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.validate()){t.next=13;break}return r={profid:e.prof._id,authorid:JSON.parse(localStorage.getItem("user")).idno,authorname:JSON.parse(localStorage.getItem("user")).name,comment:e.comment,rating:parseInt(e.rating),date:Date.now(),status:"posted"},t.next=4,L.a.post("".concat(M,"/reviews/"),r);case 4:for(t.sent,e.reviews.push(r),n=0,c=0;c<e.reviews.length;c++)n+=e.reviews[c].rating;return e.prof.rating=n/e.reviews.length,t.next=11,L.a.put("".concat(M,"/profs/").concat(e.prof._id),e.prof);case 11:t.sent,e.reset();case 13:case"end":return t.stop()}}),t)})))()},validate:function(){return"none"==this.rating?this.ratingError=!0:this.ratingError=!1,""==this.comment?this.commentError=!0:this.commentError=!1,!this.ratingError&&!this.commentError},reset:function(){this.rating="none",this.comment="",this.ratingError=!1,this.commentError=!1},reportReview:function(e){return Object(B["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,L.a.put("".concat(M,"/reviews/report"),e);case 3:t.sent,alert("Successfully reported "+e.authorname+"review!");case 5:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(B["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$route.params.idNum){t.next=9;break}return t.next=3,L.a.get("".concat(M,"/profs/").concat(e.$route.params.idNum));case 3:return r=t.sent,e.prof=r.data,t.next=7,L.a.get("".concat(M,"/reviews/professor/").concat(e.prof._id));case 7:n=t.sent,e.reviews=n.data;case 9:case"end":return t.stop()}}),t)})))()}};r("f3dd");Q.render=H,Q.__scopeId="data-v-fb5c592e";t["default"]=Q},f3dd:function(e,t,r){"use strict";r("687d")}}]);
//# sourceMappingURL=chunk-2a829ee4.4ae68547.js.map