(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-094fd22c"],{"1dde":function(e,t,r){var n=r("d039"),c=r("b622"),a=r("2d00"),o=c("species");e.exports=function(e){return a>=51||!n((function(){var t=[],r=t.constructor={};return r[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"65f0":function(e,t,r){var n=r("861d"),c=r("e8b5"),a=r("b622"),o=a("species");e.exports=function(e,t){var r;return c(e)&&(r=e.constructor,"function"!=typeof r||r!==Array&&!c(r.prototype)?n(r)&&(r=r[o],null===r&&(r=void 0)):r=void 0),new(void 0===r?Array:r)(0===t?0:t)}},"80af":function(e,t,r){"use strict";r("83fb")},"83fb":function(e,t,r){},8418:function(e,t,r){"use strict";var n=r("c04e"),c=r("9bf2"),a=r("5c6c");e.exports=function(e,t,r){var o=n(t);o in e?c.f(e,o,a(0,r)):e[o]=r}},"99af":function(e,t,r){"use strict";var n=r("23e7"),c=r("d039"),a=r("e8b5"),o=r("861d"),i=r("7b0b"),s=r("50c4"),l=r("8418"),u=r("65f0"),b=r("1dde"),d=r("b622"),p=r("2d00"),h=d("isConcatSpreadable"),v=9007199254740991,f="Maximum allowed index exceeded",O=p>=51||!c((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),j=b("concat"),m=function(e){if(!o(e))return!1;var t=e[h];return void 0!==t?!!t:a(e)},g=!O||!j;n({target:"Array",proto:!0,forced:g},{concat:function(e){var t,r,n,c,a,o=i(this),b=u(o,0),d=0;for(t=-1,n=arguments.length;t<n;t++)if(a=-1===t?o:arguments[t],m(a)){if(c=s(a.length),d+c>v)throw TypeError(f);for(r=0;r<c;r++,d++)r in a&&l(b,d,a[r])}else{if(d>=v)throw TypeError(f);l(b,d++,a)}return b.length=d,b}})},c66d:function(e,t,r){"use strict";r.r(t);r("b0c0");var n=r("7a23"),c=Object(n["H"])("data-v-55e6b078");Object(n["t"])("data-v-55e6b078");var a={class:"container"},o={class:"profile"},i=Object(n["h"])("br",null,null,-1),s=Object(n["h"])("h3",{class:"page-title"},"Information",-1),l={id:"profilecont"},u={class:"card"},b={class:"profileheader"},d={class:"profilearea"},p={class:"table table-borderless"},h=Object(n["h"])("thead",null,[Object(n["h"])("h5")],-1),v=Object(n["h"])("td",null,"College:",-1),f=Object(n["h"])("td",null,"Courses",-1),O=Object(n["h"])("td",null,"Rating:",-1),j={key:0},m={key:1},g=Object(n["h"])("br",null,null,-1),w={id:"reviewsection"},x={class:"reviewbox"},y=Object(n["h"])("div",{class:"addreviewheader"},[Object(n["h"])("span",null,[Object(n["h"])("h4",null,"Add Review")])],-1),R={class:"entry"},k={class:"ratingarea"},E=Object(n["h"])("span",null,"Rating",-1),z={class:"rating"},S=Object(n["f"])('<option value="1" data-v-55e6b078>1</option><option value="2" data-v-55e6b078>2</option><option value="3" data-v-55e6b078>3</option><option value="4" data-v-55e6b078>4</option><option value="5" data-v-55e6b078>5</option><option value="none" data-v-55e6b078>Select a rating</option>',6),q={key:0,class:"alert alert-text"},A=Object(n["h"])("br",null,null,-1),C={style:{"text-align":"right","padding-top":"1rem"}},I={key:0,class:"alert alert-text"},N={class:"reviews"},_=Object(n["h"])("div",{class:"reviewheader"},[Object(n["h"])("span",null,[Object(n["h"])("h4",null,"Reviews")])],-1),J={class:"card reviewcard"},P={class:"row reviewItem"},U=Object(n["h"])("br",null,null,-1),D={class:"col-3"},G=Object(n["h"])("br",null,null,-1),T={class:"col-8"},V={class:"col-1"};Object(n["r"])();var $=c((function(e,t,r,c,$,B){return Object(n["q"])(),Object(n["d"])("div",a,[Object(n["h"])("div",o,[i,s,Object(n["h"])("div",l,[Object(n["h"])("div",u,[Object(n["h"])("div",b,[Object(n["h"])("span",null,[Object(n["h"])("h3",null,Object(n["z"])(e.prof.name),1)])]),Object(n["h"])("div",d,[Object(n["h"])("table",p,[h,Object(n["h"])("tbody",null,[Object(n["h"])("tr",null,[v,Object(n["h"])("td",null,Object(n["z"])(e.prof.college),1)]),Object(n["h"])("tr",null,[f,Object(n["h"])("td",null,Object(n["z"])(e.prof.courses),1)]),Object(n["h"])("tr",null,[O,0!=e.prof.rating?(Object(n["q"])(),Object(n["d"])("td",j,Object(n["z"])(e.prof.rating),1)):(Object(n["q"])(),Object(n["d"])("td",m," Unrated "))])])])])])])]),g,Object(n["h"])("div",w,[Object(n["h"])("div",x,[y,Object(n["h"])("div",R,[Object(n["h"])("div",k,[E,Object(n["h"])("span",z,[Object(n["G"])(Object(n["h"])("select",{class:"col-2 custom-select",name:"rating",id:"rating","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.rating=t})},[S],512),[[n["C"],e.rating]])]),e.ratingError?(Object(n["q"])(),Object(n["d"])("span",q,'"Please select a rating from 1-5"')):Object(n["e"])("",!0)]),A,Object(n["G"])(Object(n["h"])("textarea",{id:"reviewcomment",rows:"10",placeholder:"Put your comment here","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.comment=t})},null,512),[[n["D"],e.comment]]),Object(n["h"])("div",C,[e.commentError?(Object(n["q"])(),Object(n["d"])("span",I,'"Please provide your comments. "')):Object(n["e"])("",!0),Object(n["h"])("button",{type:"button",class:"btn btn-primary",id:"submitReview",onClick:t[3]||(t[3]=function(e){return B.submitReview()})}," Submit Review ")])])]),Object(n["h"])("div",N,[_,Object(n["h"])("div",J,[(Object(n["q"])(!0),Object(n["d"])(n["a"],null,Object(n["w"])(e.reviews,(function(e){return Object(n["q"])(),Object(n["d"])("div",P,[U,Object(n["h"])("div",D,[Object(n["h"])("p",null,[Object(n["g"])(Object(n["z"])(e.authorname),1),G,Object(n["g"])(Object(n["z"])(e.authorid),1)])]),Object(n["h"])("div",T,[Object(n["h"])("p",null,"Rating: "+Object(n["z"])(e.rating),1),Object(n["h"])("p",null,Object(n["z"])(e.comment),1)]),Object(n["h"])("div",V,[Object(n["h"])("span",{class:"reportbtn",onClick:function(t){return B.reportReview(e)}},"Report",8,["onClick"])])])})),256))])])])])})),B=(r("99af"),r("96cf"),r("1da1")),H=r("d178"),M=r("bc3a"),F=r.n(M),K="https://ccapdev-test-profile-app.herokuapp.com/",L={name:"Profile",components:{Navbar:H["a"]},data:function(){return{prof:{name:"",idNum:"",college:"",courses:"",rating:0},reviews:[],rating:"none",comment:"",ratingError:!1,commentError:!1}},methods:{submitReview:function(){var e=this;return Object(B["a"])(regeneratorRuntime.mark((function t(){var r,n,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.validate()){t.next=13;break}return r={profid:e.prof._id,authorid:JSON.parse(localStorage.getItem("user")).idno,authorname:JSON.parse(localStorage.getItem("user")).name,comment:e.comment,rating:parseInt(e.rating),date:Date.now(),status:"posted"},t.next=4,F.a.post("".concat(K,"/reviews/"),r);case 4:for(t.sent,e.reviews.push(r),n=0,c=0;c<e.reviews.length;c++)n+=e.reviews[c].rating;return e.prof.rating=n/e.reviews.length,t.next=11,F.a.put("".concat(K,"/profs/").concat(e.prof._id),e.prof);case 11:t.sent,e.reset();case 13:case"end":return t.stop()}}),t)})))()},validate:function(){return"none"==this.rating?this.ratingError=!0:this.ratingError=!1,""==this.comment?this.commentError=!0:this.commentError=!1,!this.ratingError&&!this.commentError},reset:function(){this.rating="none",this.comment="",this.ratingError=!1,this.commentError=!1},reportReview:function(e){return Object(B["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e),t.next=3,F.a.put("".concat(K,"/reviews/report"),e);case 3:t.sent,alert("Successfully reported "+e.authorname+"review!");case 5:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this;return Object(B["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.$route.params.idNum){t.next=9;break}return t.next=3,F.a.get("".concat(K,"/profs/").concat(e.$route.params.idNum));case 3:return r=t.sent,e.prof=r.data,t.next=7,F.a.get("".concat(K,"/reviews/professor/").concat(e.prof._id));case 7:n=t.sent,e.reviews=n.data;case 9:case"end":return t.stop()}}),t)})))()}};r("80af");L.render=$,L.__scopeId="data-v-55e6b078";t["default"]=L},e8b5:function(e,t,r){var n=r("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}}}]);
//# sourceMappingURL=chunk-094fd22c.92563146.js.map