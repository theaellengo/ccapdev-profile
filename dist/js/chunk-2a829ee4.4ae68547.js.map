{"version":3,"sources":["webpack:///./src/views/Profile.vue","webpack:///./src/views/Profile.vue?5486","webpack:///./src/views/Profile.vue?8e2c"],"names":["class","id","style","prof","name","college","courses","rating","ratingError","rows","placeholder","comment","commentError","type","submitReview","reviews","item","authorname","authorid","reportReview","url","components","Navbar","data","idNum","methods","validate","review","profid","_id","JSON","parse","localStorage","getItem","idno","parseInt","date","Date","now","status","a","post","push","ratingSum","i","length","put","reset","this","console","log","alert","created","$route","params","get","response","responseComments","render","__scopeId"],"mappings":"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","file":"js/chunk-2a829ee4.4ae68547.js","sourcesContent":["<template>\r\n  <div class=\"container\">\r\n    <div class=\"profile\">\r\n      <br />\r\n      <!--p>profile for id: {{ idNum }}</p-->\r\n      <h3 class=\"page-title\">Information</h3>\r\n      <div id=\"profilecont\">\r\n        <div class=\"card\">\r\n          <div class=\"profileheader\">\r\n            <span>\r\n              <h3>{{ prof.name }}</h3>\r\n            </span>\r\n          </div>\r\n          <div class=\"profilearea\">\r\n            <table class=\"table table-borderless\">\r\n              <thead>\r\n                <h5></h5>\r\n              </thead>\r\n              <tbody>\r\n                <tr>\r\n                  <td>College:</td>\r\n                  <td>{{ prof.college }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Courses</td>\r\n                  <td>{{ prof.courses }}</td>\r\n                </tr>\r\n                <tr>\r\n                  <td>Rating:</td>\r\n                  <td v-if=\"prof.rating != 0\">\r\n                    {{ prof.rating }}\r\n                  </td>\r\n                  <td v-else>\r\n                    Unrated\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <br />\r\n    <div id=\"reviewsection\">\r\n      <div class=\"reviewbox\">\r\n        <div class=\"addreviewheader\">\r\n          <span><h4>Add Review</h4></span>\r\n        </div>\r\n        <div class=\"entry\">\r\n          <div class=\"ratingarea\">\r\n            <span>Rating</span>\r\n            <span class=\"rating\">\r\n              <select\r\n                class=\"col-2 custom-select\"\r\n                name=\"rating\"\r\n                id=\"rating\"\r\n                v-model=\"rating\"\r\n              >\r\n                <option value=\"1\">1</option>\r\n                <option value=\"2\">2</option>\r\n                <option value=\"3\">3</option>\r\n                <option value=\"4\">4</option>\r\n                <option value=\"5\">5</option>\r\n                <option value=\"none\">Select a rating</option>\r\n              </select>\r\n            </span>\r\n            <span v-if=\"ratingError\" class=\"alert alert-text\"\r\n              >\"Please select a rating from 1-5\"</span\r\n            >\r\n          </div>\r\n          <br />\r\n          <textarea\r\n            id=\"reviewcomment\"\r\n            rows=\"10\"\r\n            placeholder=\"Put your comment here\"\r\n            v-model=\"comment\"\r\n          ></textarea>\r\n          <div style=\"text-align: right; padding-top: 1rem\">\r\n            <span v-if=\"commentError\" class=\"alert alert-text\"\r\n              >\"Please provide your comments. \"</span\r\n            >\r\n            <button\r\n              type=\"button\"\r\n              class=\"btn btn-primary\"\r\n              id=\"submitReview\"\r\n              @click=\"submitReview()\"\r\n            >\r\n              Submit Review\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div class=\"reviews\">\r\n        <div class=\"reviewheader\">\r\n          <span><h4>Reviews</h4></span>\r\n        </div>\r\n        <!--{{#each Review}}-->\r\n        <div class=\"card reviewcard\">\r\n          <div class=\"row reviewItem\" v-for=\"item in reviews\">\r\n            <br />\r\n            <div class=\"col-3\">\r\n              <p>{{ item.authorname }}<br />{{ item.authorid }}</p>\r\n            </div>\r\n            <div class=\"col-8\">\r\n              <p>Rating: {{ item.rating }}</p>\r\n              <p>\r\n                {{ item.comment }}\r\n              </p>\r\n            </div>\r\n            <div class=\"col-1\">\r\n              <span class=\"reportbtn\" @click=\"reportReview(item)\">Report</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <!--{{/each}}-->\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import Navbar from '@/components/Navbar.vue';\r\n  import axios from 'axios';\r\n\r\n  const url = 'http://localhost:3000';\r\n\r\n  export default {\r\n    name: 'Profile',\r\n    components: {\r\n      Navbar\r\n    },\r\n    data: () => {\r\n      return {\r\n        prof: {\r\n          name: '',\r\n          idNum: '',\r\n          college: '',\r\n          courses: '',\r\n          rating: 0\r\n        },\r\n        reviews: [],\r\n        rating: 'none',\r\n        comment: '',\r\n        ratingError: false,\r\n        commentError: false\r\n      };\r\n    },\r\n    methods: {\r\n      async submitReview() {\r\n        if (this.validate()) {\r\n          const review = {\r\n            profid: this.prof._id,\r\n            authorid: JSON.parse(localStorage.getItem('user')).idno,\r\n            authorname: JSON.parse(localStorage.getItem('user')).name,\r\n            comment: this.comment,\r\n            rating: parseInt(this.rating),\r\n            date: Date.now(),\r\n            status: 'posted'\r\n          };\r\n          const response = await axios.post(`${url}/reviews/`, review);\r\n          this.reviews.push(review);\r\n          var ratingSum = 0;\r\n          for (var i = 0; i < this.reviews.length; i++) {\r\n            ratingSum += this.reviews[i].rating;\r\n          }\r\n          this.prof.rating = ratingSum / this.reviews.length;\r\n          const editResponse = await axios.put(\r\n            `${url}/profs/${this.prof._id}`,\r\n            this.prof\r\n          );\r\n          this.reset();\r\n          //this.$router.go()\r\n        }\r\n      },\r\n      validate() {\r\n        if (this.rating == 'none') {\r\n          this.ratingError = true;\r\n        } else {\r\n          this.ratingError = false;\r\n        }\r\n        if (this.comment == '') {\r\n          this.commentError = true;\r\n        } else {\r\n          this.commentError = false;\r\n        }\r\n        if (this.ratingError || this.commentError) {\r\n          return false;\r\n        }\r\n        return true;\r\n      },\r\n      reset() {\r\n        this.rating = 'none';\r\n        this.comment = '';\r\n        this.ratingError = false;\r\n        this.commentError = false;\r\n      },\r\n      async reportReview(review) {\r\n        console.log(review);\r\n        const response = await axios.put(`${url}/reviews/report`, review);\r\n        alert('Successfully reported ' + review.authorname + 'review!');\r\n      }\r\n    },\r\n    async created() {\r\n      if (this.$route.params.idNum) {\r\n        const response = await axios.get(\r\n          `${url}/profs/${this.$route.params.idNum}`\r\n        );\r\n        this.prof = response.data;\r\n        const responseComments = await axios.get(\r\n          `${url}/reviews/professor/${this.prof._id}`\r\n        );\r\n        this.reviews = responseComments.data;\r\n      }\r\n    }\r\n  };\r\n</script>\r\n\r\n<style scoped>\r\n  .profilearea {\r\n    padding-left: 1rem;\r\n    padding-top: 1rem;\r\n  }\r\n  .profileheader {\r\n    margin-top: 1rem;\r\n    display: flex;\r\n    justify-content: space-between;\r\n  }\r\n  textarea {\r\n    display: block;\r\n    width: 100%;\r\n    padding: 0.4rem;\r\n    font-size: 1rem;\r\n    border: none;\r\n    border-radius: 1rem;\r\n    padding: 1rem;\r\n    box-shadow: 2px 4px 8px 0 rgba(0, 0, 0, 0.1);\r\n  }\r\n  .reviewItem:first-of-type {\r\n    border-top: None;\r\n    padding-top: 0px;\r\n  }\r\n  .reviewItem {\r\n    border-top: 1px solid #999;\r\n    padding-top: 1rem;\r\n  }\r\n  button {\r\n    margin: 0;\r\n  }\r\n  .ratingarea {\r\n    display: block;\r\n    padding-bottom: 2px;\r\n  }\r\n  .card {\r\n    margin-bottom: 2rem;\r\n  }\r\n  .reviewcard {\r\n    padding: 2rem;\r\n  }\r\n  .reportbtn {\r\n    color: #999;\r\n  }\r\n  .reportbtn:hover {\r\n    color: #3b87ca;\r\n  }\r\n  img {\r\n    width: 50%;\r\n    border-radius: 50%;\r\n  }\r\n  .editbtn {\r\n    float: right;\r\n  }\r\n  .editmodal {\r\n    position: absolute;\r\n    top: 50%;\r\n    left: 50%;\r\n    transform: translate(-50%, -50%);\r\n    width: 60%;\r\n  }\r\n  .dark-overlay {\r\n    position: fixed;\r\n    background-color: rgba(0, 0, 0, 0.6);\r\n  }\r\n  .alert-text {\r\n    padding-top: 0;\r\n  }\r\n  .rating {\r\n    margin-left: 1rem;\r\n  }\r\n</style>\r\n","import { render } from \"./Profile.vue?vue&type=template&id=fb5c592e&scoped=true\"\nimport script from \"./Profile.vue?vue&type=script&lang=js\"\nexport * from \"./Profile.vue?vue&type=script&lang=js\"\n\nimport \"./Profile.vue?vue&type=style&index=0&id=fb5c592e&scoped=true&lang=css\"\nscript.render = render\nscript.__scopeId = \"data-v-fb5c592e\"\n\nexport default script","export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Profile.vue?vue&type=style&index=0&id=fb5c592e&scoped=true&lang=css\""],"sourceRoot":""}